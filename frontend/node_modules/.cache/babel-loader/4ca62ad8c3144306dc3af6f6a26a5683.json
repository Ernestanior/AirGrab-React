{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\17127\\\\Desktop\\\\IT\\\\react\\\\airGrab\\\\src\\\\page\\\\mine\\\\verificate\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport style from './index.module.scss';\nimport { sendCode, sendCode2 } from \"network/network.js\";\nimport NavBar from 'components/navBar';\nimport youla from 'assets/icon/youlawhite.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Index(props) {\n  _s();\n\n  const [errmsg, setErrmsg] = React.useState('');\n  const [server, SetServer] = React.useState('');\n  const [code, setCode] = React.useState('');\n  const [disable, setDisable] = React.useState(false);\n  const [show, setShow] = React.useState('Resend');\n  React.useEffect(() => {\n    SetServer(props.location.state.code); // console.log(props);\n  }, []);\n\n  const resend = async e => {\n    setDisable(true);\n    let time = 10;\n    const timer = setInterval(() => {\n      time--;\n\n      if (time <= 0) {\n        clearInterval(timer);\n      }\n\n      setShow('Resend After ' + time + 's');\n    }, 1000);\n    setTimeout(() => {\n      setDisable(false);\n      setShow('Resend');\n    }, 10000);\n    let res = {};\n    const {\n      state\n    } = props.location;\n\n    if (state.type === 'new') {\n      res = await sendCode(state.email);\n    } else {\n      res = await sendCode2(state.email);\n    }\n\n    SetServer(res.data.result.code);\n  };\n\n  const handleCode = e => {\n    setCode(e.target.value);\n  };\n\n  const handleSubmit = () => {\n    const {\n      state\n    } = props.location;\n    console.log(code);\n    console.log(server);\n\n    if (code === server) {\n      props.history.replace('/password', {\n        type: state.type,\n        email: state.email\n      });\n    } else {\n      setErrmsg('* Invalid Code');\n    }\n  };\n\n  const goBack = () => {\n    props.history.goBack();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.service_container,\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      left: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.back,\n        onClick: goBack,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: youla,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this),\n      center: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" Verfication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 108\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.login_content,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.title,\n        children: \"Enter Verification Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.subtitle,\n        children: [\"Code sent to \", props.location.state.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.input,\n        children: [/*#__PURE__*/_jsxDEV(_Input, {\n          type: \"tel\",\n          maxLength: 6,\n          placeholder: \"6 code number\",\n          onChange: handleCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          onClick: resend,\n          disabled: disable,\n          children: show\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Button, {\n        type: \"primary\",\n        className: style.submit,\n        onClick: handleSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.errmsg,\n        children: errmsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Index, \"uiN4+vzGoRvWBW/sM+XYOT9HOZc=\");\n\n_c = Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/17127/Desktop/IT/react/airGrab/src/page/mine/verificate/index.jsx"],"names":["React","style","sendCode","sendCode2","NavBar","youla","Index","props","errmsg","setErrmsg","useState","server","SetServer","code","setCode","disable","setDisable","show","setShow","useEffect","location","state","resend","e","time","timer","setInterval","clearInterval","setTimeout","res","type","email","data","result","handleCode","target","value","handleSubmit","console","log","history","replace","goBack","service_container","back","login_content","title","subtitle","input","submit"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport style from './index.module.scss'\r\nimport { sendCode, sendCode2 } from \"network/network.js\"\r\nimport NavBar from 'components/navBar'\r\nimport youla from 'assets/icon/youlawhite.png'\r\nimport { Input, Button } from 'antd'\r\nexport default function Index(props) {\r\n  const [errmsg, setErrmsg] = React.useState('')\r\n  const [server, SetServer] = React.useState('')\r\n  const [code, setCode] = React.useState('')\r\n  const [disable, setDisable] = React.useState(false)\r\n  const [show, setShow] = React.useState('Resend')\r\n\r\n  React.useEffect(() => {\r\n    SetServer(props.location.state.code)\r\n    // console.log(props);\r\n  }, [])\r\n  const resend = async (e) => {\r\n    setDisable(true)\r\n    let time = 10\r\n    const timer = setInterval(() => {\r\n      time--\r\n      if (time <= 0) {\r\n        clearInterval(timer)\r\n      }\r\n      setShow('Resend After ' + time + 's')\r\n    }, 1000)\r\n    setTimeout(() => {\r\n      setDisable(false)\r\n      setShow('Resend')\r\n    }, 10000)\r\n    let res = {}\r\n    const { state } = props.location\r\n    if (state.type === 'new') {\r\n      res = await sendCode(state.email)\r\n    }\r\n    else {\r\n      res = await sendCode2(state.email)\r\n    }\r\n\r\n    SetServer(res.data.result.code)\r\n  }\r\n  const handleCode = (e) => {\r\n    setCode(e.target.value)\r\n  }\r\n  const handleSubmit = () => {\r\n    const { state } = props.location\r\n    console.log(code);\r\n    console.log(server);\r\n    if (code === server) {\r\n      props.history.replace('/password', { type: state.type, email: state.email })\r\n    }\r\n    else {\r\n      setErrmsg('* Invalid Code')\r\n    }\r\n\r\n  }\r\n  const goBack = () => {\r\n    props.history.goBack()\r\n  }\r\n  return (\r\n    <div className={style.service_container}>\r\n      <NavBar left={<div className={style.back} onClick={goBack}><img src={youla} alt=\"\" /></div>} center={<div> Verfication</div >} />\r\n      <div className={style.login_content}>\r\n        <div className={style.title}>Enter Verification Code</div>\r\n        <div className={style.subtitle}>Code sent to {props.location.state.email}</div>\r\n        <div className={style.input}>\r\n          <Input type=\"tel\" maxLength={6} placeholder=\"6 code number\" onChange={handleCode}></Input>\r\n          <Button type=\"primary\" onClick={resend} disabled={disable}>{show}</Button>\r\n        </div>\r\n        <Button type=\"primary\" className={style.submit} onClick={handleSubmit}>Submit</Button>\r\n        <div className={style.errmsg}>{errmsg}</div>\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}