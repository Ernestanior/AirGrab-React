{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\17127\\\\Desktop\\\\IT\\\\react\\\\airGrab\\\\src\\\\page\\\\mine\\\\verificate\\\\inputCode\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport input from 'antd/lib/input';\nimport React from 'react';\nimport style from './index.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Index(props) {\n  _s();\n\n  console.log(props);\n  const [activeInput, setActiveInput] = React.useState(0);\n  const [captchas, SetCap] = React.useState([{\n    num: \"\"\n  }, {\n    num: \"\"\n  }, {\n    num: \"\"\n  }, {\n    num: \"\"\n  }, {\n    num: \"\"\n  }, {\n    num: \"\"\n  }]);\n\n  const adjust = index => {\n    let dom = document.getElementById(\"captcha\" + activeInput);\n\n    if (index !== activeInput && dom) {\n      dom.focus();\n    }\n  };\n\n  const inputFinish = index => {\n    // console.log(index);\n    // console.log(this.captchas);\n    let val = captchas[index].num;\n    setActiveInput(val ? index + 1 : index - 1);\n    let dom = document.getElementById(\"captcha\" + activeInput);\n    if (dom) dom.focus();\n\n    if (index == captchas.length - 1) {\n      let code = captchas.map(x => x.num).join(\"\");\n\n      if (code.length == 6) {// this.$emit(\"finish\", code);\n        // console.log(code);\n      }\n    }\n  };\n\n  const inputDirection = (event, index) => {\n    let val = captchas[index].num; // Backspace回退键处理\n\n    if (event.keyCode == 8 && val == \"\") {\n      // 重新校准\n      let dom = document.getElementById(\"captcha\" + (index - 1));\n      setActiveInput(index - 1);\n      if (dom) dom.focus();\n    }\n\n    if (event.keyCode != 8 && val != \"\") {\n      let dom = document.getElementById(\"captcha\" + (index + 1));\n      setActiveInput(index + 1);\n      if (dom) dom.focus();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${style.rowcenter} ${style.captcha_input_wrapper}`,\n    children: captchas.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        id: `captcha${index}`,\n        type: \"number\",\n        maxLength: 1,\n        className: `${style.captcha_input_box} ${style.rowcenter}`,\n        onKeyDown: e => inputDirection(e, index),\n        onInput: () => inputFinish(index),\n        onFocus: () => adjust(index)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Index, \"I2whnWIvmXltVTCH+oztSsZKIVo=\");\n\n_c = Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/17127/Desktop/IT/react/airGrab/src/page/mine/verificate/inputCode/index.jsx"],"names":["input","React","style","Index","props","console","log","activeInput","setActiveInput","useState","captchas","SetCap","num","adjust","index","dom","document","getElementById","focus","inputFinish","val","length","code","map","x","join","inputDirection","event","keyCode","rowcenter","captcha_input_wrapper","item","captcha_input_box","e"],"mappings":"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","sourcesContent":["import input from 'antd/lib/input'\r\nimport React from 'react'\r\nimport style from './index.module.scss'\r\nexport default function Index(props) {\r\n  console.log(props);\r\n  const [activeInput, setActiveInput] = React.useState(0)\r\n  const [captchas, SetCap] = React.useState([\r\n    { num: \"\" },\r\n    { num: \"\" },\r\n    { num: \"\" },\r\n    { num: \"\" },\r\n    { num: \"\" },\r\n    { num: \"\" },\r\n  ])\r\n  const adjust = (index) => {\r\n    let dom = document.getElementById(\"captcha\" + activeInput);\r\n    if (index !== activeInput && dom) {\r\n      dom.focus();\r\n    }\r\n  }\r\n  const inputFinish = (index) => {\r\n    // console.log(index);\r\n    // console.log(this.captchas);\r\n    let val = captchas[index].num;\r\n    setActiveInput(val ? index + 1 : index - 1);\r\n    let dom = document.getElementById(\"captcha\" + activeInput);\r\n    if (dom) dom.focus();\r\n    if (index == captchas.length - 1) {\r\n      let code = captchas.map((x) => x.num).join(\"\");\r\n      if (code.length == 6) {\r\n        // this.$emit(\"finish\", code);\r\n        // console.log(code);\r\n      }\r\n    }\r\n  }\r\n  const inputDirection = (event, index) => {\r\n    let val = captchas[index].num;\r\n    // Backspace回退键处理\r\n    if (event.keyCode == 8 && val == \"\") {\r\n      // 重新校准\r\n      let dom = document.getElementById(\"captcha\" + (index - 1));\r\n      setActiveInput(index - 1);\r\n      if (dom) dom.focus();\r\n    }\r\n    if (event.keyCode != 8 && val != \"\") {\r\n      let dom = document.getElementById(\"captcha\" + (index + 1));\r\n      setActiveInput(index + 1)\r\n      if (dom) dom.focus();\r\n    }\r\n  }\r\n  return (\r\n    <div className={`${style.rowcenter} ${style.captcha_input_wrapper}`}>\r\n      {\r\n        captchas.map((item, index) => {\r\n          return (\r\n            <input id={`captcha${index}`} type=\"number\" maxLength={1} className={`${style.captcha_input_box} ${style.rowcenter}`} key={index} onKeyDown={(e) => inputDirection(e, index)} onInput={() => inputFinish(index)} onFocus={() => adjust(index)}></input>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}